{"version":3,"sources":["assets/images/menu/user.svg","assets/images/logout.svg","assets/images/cat.svg","assets/images/bone.svg","assets/images/food.svg","assets/images/ball.svg","assets/images/world.svg","assets/images/heart.svg","assets/images/heart-active.svg","assets/images/save.svg","assets/images/comment.svg","assets/images/catsleep.png","assets/images/search.svg","assets/images/edit.svg","assets/images/gallery.svg","assets/images/menu/bell.svg","context/authContext.jsx","PrivateRoute.jsx","components/commons/NotFound/index.jsx","components/commons/Menu/index.jsx","components/commons/Header/NotiBox.jsx","components/commons/Header/index.jsx","components/Login/LoginForm/index.jsx","components/Login/index.jsx","components/Signup/index.jsx","utils/CloudinaryService.js","components/Home/CreatePost/BoxInput.jsx","components/Home/CreatePost/index.jsx","components/commons/Newfeed/NewFeedItem.jsx","components/commons/Newfeed/GuideBox.jsx","components/commons/Newfeed/index.jsx","components/FollowerBox/index.jsx","components/Home/index.jsx","components/Profile/BoxInfo/index.jsx","components/Profile/Gallery/index.js","components/Profile/index.jsx","App.jsx","serviceWorker.js","index.js","assets/images/camera.svg","assets/images/menu/open-menu.svg","assets/images/menu/home.svg"],"names":["module","exports","AuthContext","createContext","useAuth","useContext","PrivateRoute","Component","component","rest","authToken","useEffect","localStorage","getItem","userInfo","JSON","parse","url","process","id","axios","get","then","res","data","avatarUrl","backgroundUrl","name","_id","setItem","stringify","render","props","to","NotFound","className","Menu","location","useLocation","history","useHistory","list","title","color","path","icon","homeSVG","userSVG","map","item","index","key","style","backgroundColor","src","alt","renderMenu","onClick","removeItem","push","href","logoutSVG","marginLeft","NotiBox","currentUserId","console","log","Header","userLogined","useState","menuStatus","setMenuStatus","notiBoxStatus","backgroundImage","menuSVG","renderNav","LoginForm","email","password","inputUser","setInputUser","statusLogin","setStatusLogin","setAuthToken","inputHandle","event","target","value","newInput","onSubmit","preventDefault","post","success","msg","accessToken","defaults","headers","common","renderToast","type","placeholder","required","onChange","Login","CatSVG","BallSVG","FoodSVG","BoneSVG","Signup","confirmPassword","length","alert","newUser","openUploadWidget","options","callback","scOptions","Util","withSnakeCaseKeys","window","cloudinary","BoxInput","onCloseInput","userId","createAt","Date","caption","imageUrl","setPost","rows","cols","newPost","cloudName","uploadPreset","error","photos","info","cameraSVG","reload","CreatePost","inputBoxStatus","setInputBoxStatus","currentUserInfo","baseUrl","convertTimeAgo","date","TimeAgo","addLocale","vi","format","NewFeedItem","defaultAvatar","postUser","setPostUser","heartStatus","setHeartStatus","reactContent","setReactContent","inputContent","setInputContent","listComment","setListComment","getComments","promises","i","all","resArr","newListComment","forEach","reactsData","result","handleReactInfos","worldSVG","newReact","postId","heartActiveSVG","heartSVG","commentSVG","saveSVG","comment","content","splice","catch","err","onDeleteComment","onKeyDown","newComment","GuideBox","catSleepPNG","renderText","NewFeed","posts","setPosts","followings","postUserIds","arrayAxios","resArray","newPosts","reduce","a","b","concat","sort","creataAt","FollowerBox","listNotFollowing","setListNotFollowing","searchSVG","newFollowing","targetId","newListNotFollowing","slice","onHandleClick","Home","setFollowings","url_1","targetIds","users","newNotFollowingList","user","indexOf","BoxInfo","onUploadImage","isMe","beginUpload","newUserInfo","editSVG","imageUrls","Gallery","gallerySVG","Profile","setUserInfo","useParams","getUserInfo","App","Provider","exact","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.28e00c3e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.accbd70d.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.e03fdaf3.svg\";","module.exports = __webpack_public_path__ + \"static/media/cat.ee5d6238.svg\";","module.exports = __webpack_public_path__ + \"static/media/bone.1e54352a.svg\";","module.exports = __webpack_public_path__ + \"static/media/food.88b23f77.svg\";","module.exports = __webpack_public_path__ + \"static/media/ball.0b3a9c06.svg\";","module.exports = __webpack_public_path__ + \"static/media/world.54e8062a.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart.70ebbcd1.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart-active.a8cd76c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/save.3a1ffe6b.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.55da0b1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/catsleep.256b6e53.png\";","module.exports = __webpack_public_path__ + \"static/media/search.a0c5eda5.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.0679ff7c.svg\";","module.exports = __webpack_public_path__ + \"static/media/gallery.6ade051a.svg\";","module.exports = __webpack_public_path__ + \"static/media/bell.ffb4c987.svg\";","import { useContext, createContext } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext);\r\n} ","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from './context/authContext';\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n\r\n    // ta da set mac dinh la false\r\n    const { authToken } = useAuth();\r\n\r\n    useEffect(() => {\r\n        if (authToken && localStorage.getItem('userInfo')) {\r\n            let userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n            const url = process.env.REACT_APP_API_URL + `users/${userInfo.id}/info`;\r\n            axios.get(url).then(res => {\r\n                // update userInfo\r\n                const { avatarUrl, backgroundUrl, name } = res.data;\r\n                userInfo = {\r\n                    avatarUrl, backgroundUrl, name,\r\n                    id: res.data._id\r\n                }\r\n                localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n            })\r\n        }\r\n    });\r\n\r\n    return (\r\n        <Route {...rest} render={(props) => (\r\n            authToken ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n        )}\r\n        />\r\n    );\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport './style.scss';\r\nfunction NotFound() {\r\n    return (\r\n        <div className=\"not-found\">\r\n            <h1>404</h1>\r\n            <h3>Page not found</h3>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\n// import bellSVG from '../../../assets/images/menu/bell.svg';\r\n// import bookmarkSVG from '../../../assets/images/menu/bookmark.svg';\r\n// import eventSVG from '../../../assets/images/menu/event.svg';\r\n// import groupSVG from '../../../assets/images/menu/group.svg';\r\nimport homeSVG from '../../../assets/images/menu/home.svg';\r\nimport userSVG from '../../../assets/images/menu/user.svg';\r\nimport logoutSVG from '../../../assets/images/logout.svg';\r\nimport './style.scss';\r\n//import PropTypes from 'prop-types';\r\n\r\n// Menu.propTypes = {\r\n\r\n// };\r\n\r\n\r\n\r\nfunction renderMenu(list, location) {\r\n    return list.map((item, index) => {\r\n        return (\r\n            <li key={index} className={`menu__item ${location === item.path ? 'menu__item--active' : ''}`}>\r\n                <Link to={item.path} className=\"link\">\r\n                    <div style={{ backgroundColor: item.color }} className=\"icon\">\r\n                        <img src={item.icon} alt=\"icon\" />\r\n                    </div>\r\n                    <p>{item.title}</p>\r\n                </Link>\r\n            </li>\r\n        )\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction Menu(props) {\r\n    let location = useLocation();\r\n    let history = useHistory();\r\n    const { userInfo } = props;\r\n\r\n    const list = [\r\n        { title: 'Trang chủ', color: '#63D5FA', path: \"/\", icon: homeSVG },\r\n        { title: 'Tài khoản', color: '#E8AB73', path: `/profile/${userInfo.id}`, icon: userSVG },\r\n        // { title: 'Thông báo', color: '#14B1AB', path: \"/notification\", icon: bellSVG },\r\n        // { title: 'Nhóm', color: '#B296EC', path: \"/group\", icon: groupSVG },\r\n        // { title: 'Sự kiện', color: '#FC5E84', path: \"/event\", icon: eventSVG },\r\n        // { title: 'Đã lưu', color: '#00E08F', path: \"/bookmark\", icon: bookmarkSVG }\r\n    ];\r\n\r\n    function onLogout() {\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('userInfo');\r\n\r\n        history.push('/login');\r\n    }\r\n    return (\r\n        <div className=\"menu\">\r\n            <ul className=\"wrap-content\">\r\n                {renderMenu(list, location)}\r\n                <li className=\"menu__item\" onClick={onLogout}>\r\n                    <a href=\"#\" className=\"link\">\r\n                        <div className=\"icon\" style={{ backgroundColor: '#9a7f92' }}>\r\n                            <img src={logoutSVG} style={{ marginLeft: '3px' }} alt=\"icon\" />\r\n                        </div>\r\n                        <p>Đăng xuất</p>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nNotiBox.propTypes = {\r\n\r\n};\r\n\r\nfunction NotiBox(props) {\r\n    const { currentUserId } = props;\r\n    console.log(currentUserId);\r\n    return (\r\n        <div className=\"noti-box\">\r\n            <h1>Xin cho cac bans</h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotiBox;","import React from \"react\";\r\nimport \"./style.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport bellSVG from \"../../../assets/images/menu/bell.svg\";\r\nimport menuSVG from \"../../../assets/images/menu/open-menu.svg\";\r\nimport Menu from \"../Menu/index\";\r\nimport NotiBox from \"./NotiBox\";\r\nimport { useState } from \"react\";\r\n\r\nHeader.propTypes = {\r\n  userLogined: PropTypes.object,\r\n};\r\n\r\nfunction Header(props) {\r\n  const { userLogined } = props;\r\n  const [menuStatus, setMenuStatus] = useState(false);\r\n  const [notiBoxStatus, setNotiBoxStatus] = useState(false);\r\n\r\n  function renderNav(userLogined) {\r\n    const defaultAvatar =\r\n      \"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png\";\r\n    if (userLogined) {\r\n      return (\r\n        <div className=\"header-content__navbar\">\r\n          <ul className=\"navbar__content\">\r\n            {/* <li className=\"navbar__item bell\"><img src={bellSVG} onClick={() => setNotiBoxStatus(!notiBoxStatus)} alt=\"bell\" /></li> */}\r\n            <li className=\"navbar__item info\">\r\n              <div\r\n                className=\"avatar\"\r\n                style={{\r\n                  backgroundImage: `url(${\r\n                    userLogined.avatarUrl || defaultAvatar\r\n                  })`,\r\n                }}\r\n              ></div>\r\n              <p>{userLogined.name}</p>\r\n            </li>\r\n            <li className=\"navbar__item navbar__menu\">\r\n              <img\r\n                src={menuSVG}\r\n                alt=\"menu\"\r\n                onClick={() => setMenuStatus(!menuStatus)}\r\n              />\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"header-content__navbar\">\r\n          <ul className=\"navbar__content\">\r\n            <li className=\"navbar__item\">Liên hệ</li>\r\n            <li className=\"navbar__item\">Hướng dẫn</li>\r\n            <li className=\"navbar__item\">Thông tin</li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"header-wrap\">\r\n      {menuStatus && <Menu userInfo={userLogined} />}\r\n      {notiBoxStatus && <NotiBox currentUserId={userLogined.id} />}\r\n      <div className=\"header-content\">\r\n        <div className=\"header-content__title\">\r\n          <h1>Petlovers</h1>\r\n          <h4>Ngôi nhà cho những người thích chó mèo !</h4>\r\n        </div>\r\n        {renderNav(userLogined)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport './style.scss';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../../../context/authContext';\r\n\r\n\r\nfunction renderToast(success, msg) {\r\n    if (!success) {\r\n        return (\r\n            <div className=\"login-toast login-toast--success\">{msg}</div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction LoginForm(props) {\r\n\r\n    const [inputUser, setInputUser] = useState({ email: '', password: '' });\r\n    const [statusLogin, setStatusLogin] = useState(null);\r\n    const history = useHistory();\r\n    const { authToken, setAuthToken } = useAuth();\r\n\r\n    function inputHandle(event) {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        const newInput = {\r\n            ...inputUser,\r\n            [name]: value\r\n        }\r\n        setInputUser(newInput);\r\n    }\r\n\r\n    function onHandleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        const url = process.env.REACT_APP_API_URL + 'auth/login';\r\n        axios.post(url, inputUser).then(res => {\r\n            const { data } = res;\r\n            const { success, msg } = data;\r\n            if (success) {\r\n                // login ok\r\n                /*\r\n                    chúng ta set giá trị mặc định cho request header để từ lần sau trở đi,\r\n                     ta gọi request với axios thì nó sẽ tự động gán header x-access-token\r\n                */\r\n                const { accessToken, userInfo } = data;\r\n                axios.defaults.headers.common['x-access-token'] = accessToken;\r\n                // Lưu accessToken vào localstorage đẻ sau khi tắt browser , thì lần vào không cần login lại\r\n                localStorage.setItem('accessToken', accessToken);\r\n                // render lai toast\r\n                setStatusLogin({ success, msg });\r\n                setAuthToken(accessToken);\r\n                console.log(userInfo);\r\n                // set useinfo vao localstorage\r\n                localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n                history.push(`/profile/${userInfo.id}`);\r\n\r\n            } else {\r\n                // login fail massage\r\n                setStatusLogin({ success, msg });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    if (authToken && localStorage.getItem('userInfo')) {\r\n        history.push('/');\r\n    }\r\n\r\n\r\n    return (\r\n        <form className=\"login-form\" onSubmit={onHandleSubmit}>\r\n            {statusLogin && renderToast(statusLogin.success, statusLogin.msg)}\r\n            <h1>Đăng nhập</h1>\r\n            <input type=\"email\" placeholder=\"Email\" required name=\"email\" value={inputUser.email} onChange={inputHandle} />\r\n            <input type=\"password\" placeholder=\"Mật khẩu\" required name=\"password\" value={inputUser.password} onChange={inputHandle} />\r\n            <button type=\"submit\">Đăng nhập</button>\r\n            {/* <div className=\"quick-login\">\r\n                <button>Google</button>\r\n                <button>Facebook</button>\r\n            </div> */}\r\n            <p>Bạn chưa có tài khoản</p>\r\n            <Link to=\"/signup\" className=\"create-account\">Đăng ký mới</Link>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport Header from '../commons/Header/index';\r\nimport LoginForm from './LoginForm/index';\r\nimport CatSVG from '../../assets/images/cat.svg';\r\nimport BoneSVG from '../../assets/images/bone.svg';\r\nimport FoodSVG from '../../assets/images/food.svg';\r\nimport BallSVG from '../../assets/images/ball.svg';\r\n\r\nimport './style.scss'\r\nfunction Login() {\r\n    return (\r\n        <div className=\"login\">\r\n            <Header />\r\n            <div className=\"main\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"effect-wrap\">\r\n                        <div className=\"effect-content\">\r\n                            <img className=\"effect-content__svg\" src={CatSVG} alt=\"cat\" />\r\n                            <div className=\"effect-content__box\">\r\n                                <div className=\"box__item\"></div>\r\n                                <div className=\"box__item\"></div>\r\n                                <div className=\"box__item\">Meo meo ...</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"login-form-wrap\">\r\n                        <LoginForm />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <footer className=\"footer\">\r\n                <div className=\"footer-container\">\r\n                    <div className=\"footer-container__item\">\r\n                        <img alt=\"icon\" src={BallSVG} />\r\n                    </div>\r\n                    <div className=\"footer-container__item\">\r\n                        <img alt=\"icon\" src={FoodSVG} />\r\n                    </div>\r\n                    <div className=\"footer-container__item\">\r\n                        <img alt=\"icon\" src={BoneSVG} />\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './style.scss';\r\nimport { useAuth } from '../../context/authContext';\r\n\r\n\r\n\r\nfunction Signup(props) {\r\n\r\n    const history = useHistory();\r\n    const { authToken } = useAuth();\r\n    if (authToken) {\r\n        history.push('/');\r\n    }\r\n    const [inputUser, setInputUser] = useState({\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        name: ''\r\n    });\r\n\r\n    function inputHandle(event) {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        const newInput = {\r\n            ...inputUser,\r\n            [name]: value\r\n        }\r\n        setInputUser(newInput);\r\n    }\r\n\r\n    function onHandleSubmit(event) {\r\n        event.preventDefault();\r\n        const { password, confirmPassword } = inputUser;\r\n\r\n        if (password.length < 6) {\r\n            alert('Mat khau phai tu 6 ky tu !');\r\n            return;\r\n        }\r\n        if (password !== confirmPassword) {\r\n            alert('Mat khau khong khop');\r\n        } else {\r\n            console.log('Oke');\r\n            const { name, email, password } = inputUser;\r\n            const newUser = { name, email, password };\r\n            const url = process.env.REACT_APP_API_URL + 'auth/signup';\r\n            axios.post(url, newUser).then(res => {\r\n                console.log(res);\r\n                alert('Đăng ký thành công !');\r\n                history.push('/login');\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"signup-wrap\">\r\n            <form className=\"signup-form\" onSubmit={onHandleSubmit}>\r\n                <h1>Đăng ký</h1>\r\n                <input type=\"text\" placeholder=\"Họ tên\" required name=\"name\" value={inputUser.name} onChange={inputHandle} />\r\n                <input type=\"email\" placeholder=\"Email\" required name=\"email\" value={inputUser.email} onChange={inputHandle} />\r\n                <input type=\"password\" placeholder=\"Mật khẩu\" required name=\"password\" value={inputUser.password} onChange={inputHandle} />\r\n                <input type=\"password\" placeholder=\"Nhập lại mật khẩu\" required name=\"confirmPassword\" value={inputUser.confirmPassword} onChange={inputHandle} />\r\n                <button type=\"submit\">Đăng ký</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;","import { Cloudinary as CoreCloudinary, Util } from 'cloudinary-core';\r\n\r\nexport const url = (publicId, options) => {\r\n    const scOptions = Util.withSnakeCaseKeys(options);\r\n    const cl = CoreCloudinary.new();\r\n    return cl.url(publicId, scOptions);\r\n};\r\n\r\nexport const openUploadWidget = (options, callback) => {\r\n    const scOptions = Util.withSnakeCaseKeys(options);\r\n    window.cloudinary.openUploadWidget(scOptions, callback);\r\n};\r\n\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport cameraSVG from '../../../assets/images/camera.svg';\r\nimport axios from 'axios';\r\nimport { openUploadWidget } from '../../../utils/CloudinaryService';\r\n\r\n\r\n\r\nfunction BoxInput(props) {\r\n    const { userInfo, onCloseInput } = props;\r\n    const [post, setPost] = useState({\r\n        userId: userInfo.id,\r\n        createAt: new Date(),\r\n        caption: '',\r\n        imageUrl: ''\r\n    });\r\n\r\n    // upload len cloundinary va gui url ve\r\n    function beginUpload() {\r\n        const uploadOptions = {\r\n            cloudName: process.env.REACT_APP_CLOUD_NAME,\r\n            uploadPreset: 'pnto4uty'\r\n        };\r\n\r\n        openUploadWidget(uploadOptions, (error, photos) => {\r\n            if (!error) {\r\n                if (photos.event === 'success') {\r\n                    const imageUrl = photos.info.url;\r\n                    const newPost = {\r\n                        ...post,\r\n                        imageUrl: imageUrl\r\n                    };\r\n                    setPost(newPost);\r\n                }\r\n            } else {\r\n                console.log(error);\r\n            }\r\n        })\r\n    }\r\n\r\n    // thay doi caption\r\n    function onHandleInput(event) {\r\n        const value = event.target.value;\r\n        const newPost = {\r\n            ...post,\r\n            caption: value\r\n        };\r\n        setPost(newPost);\r\n    }\r\n\r\n    // post len server\r\n    function onCreatePost() {\r\n\r\n        const url = process.env.REACT_APP_API_URL + `posts`;\r\n        axios.post(url, post)\r\n            .then(res => {\r\n                onCloseInput();\r\n                window.location.reload(false);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"box-input\">\r\n            <div className=\"box-wrap\">\r\n                <textarea name=\"caption\" value={post.caption} rows=\"6\" cols=\"56\" placeholder=\"Hãy nói gì đó ...\" onChange={onHandleInput} />\r\n                <div className=\"image\">\r\n                    {post.imageUrl && <img src={post.imageUrl} alt=\"postimage\" />}\r\n                </div>\r\n                <div className=\"upload-image\" onClick={beginUpload}>\r\n                    <img src={cameraSVG} alt=\"camera\" />\r\n                </div>\r\n                <div className=\"button\">\r\n                    <button onClick={() => onCloseInput(false)}>Hủy</button>\r\n                    <button onClick={onCreatePost}>Đăng bài</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BoxInput;","import React from 'react';\r\nimport './style.scss';\r\nimport { useState } from 'react';\r\nimport BoxInput from './BoxInput';\r\n\r\nfunction CreatePost(props) {\r\n    let { userInfo } = props;\r\n    if (!userInfo) {\r\n        userInfo = {};\r\n    }\r\n    const defaultAvatar = 'https://iupac.org/wp-content/uploads/2018/05/default-avatar.png';\r\n    const [inputBoxStatus, setInputBoxStatus] = useState(false);\r\n\r\n    return (\r\n        <div className=\"create-post\">\r\n            {inputBoxStatus && <BoxInput onCloseInput={setInputBoxStatus} userInfo={userInfo} currentUserInfo={userInfo} />}\r\n            <h1 className=\"create-post__title\">Tạo bài viết</h1>\r\n            <div className=\"create-post__content\" onClick={() => setInputBoxStatus(true)}>\r\n                <div className=\"avatar\" style={{ backgroundImage: `url(${(userInfo.avatarUrl) || defaultAvatar})` }}></div>\r\n                <p >{userInfo.name}  ơi, bạn đang nghĩ gì ?</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreatePost;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport worldSVG from \"../../../assets/images/world.svg\";\r\nimport heartSVG from \"../../../assets/images/heart.svg\";\r\nimport heartActiveSVG from \"../../../assets/images/heart-active.svg\";\r\nimport saveSVG from \"../../../assets/images/save.svg\";\r\nimport commentSVG from \"../../../assets/images/comment.svg\";\r\nimport TimeAgo from \"javascript-time-ago\";\r\nimport vi from \"javascript-time-ago/locale/vi\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nfunction convertTimeAgo(date) {\r\n  TimeAgo.addLocale(vi);\r\n  const timeAgo = new TimeAgo(\"vi\");\r\n  return timeAgo.format(new Date(date));\r\n}\r\n\r\nNewFeedItem.propTypes = {\r\n  post: PropTypes.object,\r\n  currentUserInfo: PropTypes.object,\r\n};\r\n\r\nfunction NewFeedItem(props) {\r\n  const defaultAvatar =\r\n    \"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png\";\r\n  const { _id, userId, caption, imageUrl, createAt } = props.post;\r\n  const [postUser, setPostUser] = useState({});\r\n  const [heartStatus, setHeartStatus] = useState(null);\r\n  const [reactContent, setReactContent] = useState([]);\r\n  const [inputContent, setInputContent] = useState(\"\");\r\n  const [listComment, setListComment] = useState([]);\r\n  const { currentUserInfo, userInfo } = props;\r\n\r\n  useEffect(() => {\r\n    axios.get(baseUrl + `users/${userId}/info`).then((res) => {\r\n      const data = res.data;\r\n      setPostUser(res.data);\r\n    });\r\n\r\n    axios.get(baseUrl + `postReactions/${_id}/by-postId`).then((res) => {\r\n      res.data.forEach((item) => {\r\n        if (item.userId === currentUserInfo.id) {\r\n          setHeartStatus(item);\r\n        }\r\n      });\r\n\r\n      // content react\r\n      handleReactInfos(res.data);\r\n    });\r\n\r\n    // get comments\r\n    getComments();\r\n    // axios.get(baseUrl + `comments/${_id}/by-postId`).then((res) => {\r\n    //   let data = res.data;\r\n    //   let promises = [];\r\n    //   for (let i = 0; i < data.length; i++) {\r\n    //     promises.push(axios.get(baseUrl + `users/${data[i].userId}/info`));\r\n    //     axios.all(promises).then((resArr) => {\r\n    //       let arr = resArr.map((item) => {\r\n    //         return item.data;\r\n    //       });\r\n    //       let newListComment = arr.map((item, index) => {\r\n    //         return {\r\n    //           ...data[index],\r\n    //           avatarUrl: item.avatarUrl,\r\n    //           name: item.name,\r\n    //         };\r\n    //       });\r\n    //       setListComment(newListComment);\r\n    //     });\r\n    //   }\r\n    // });\r\n  }, [userId, userInfo]);\r\n\r\n  function onHandleLikePost() {\r\n    const newReact = {\r\n      postId: _id,\r\n      userId: currentUserInfo.id,\r\n      type: \"heart\",\r\n    };\r\n    if (!heartStatus) {\r\n      axios.post(baseUrl + \"postReactions\", newReact).then((res) => {\r\n        setHeartStatus(newReact);\r\n      });\r\n    } else {\r\n      console.log(\"react id,\", heartStatus._id);\r\n      axios\r\n        .get(baseUrl + `postReactions/${heartStatus._id}/delete`)\r\n        .then((res) => {\r\n          setHeartStatus(null);\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleReactInfos(reactsData) {\r\n    let promises = [];\r\n    let result = [];\r\n    for (let i = 0; i < reactsData.length; i++) {\r\n      promises.push(axios.get(baseUrl + `users/${reactsData[i].userId}/info`));\r\n    }\r\n\r\n    axios.all(promises).then((resArr) => {\r\n      result = resArr.map((res) => {\r\n        return res.data.name;\r\n      });\r\n      // set content react\r\n      setReactContent(result);\r\n    });\r\n  }\r\n\r\n  function onHandleChangeInput(event) {\r\n    const value = event.target.value;\r\n    setInputContent(value);\r\n  }\r\n\r\n  function onKeyDownHandle(event) {\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n      // tao comment moi va post len server\r\n      if (inputContent) {\r\n        let newComment = {\r\n          userId: currentUserInfo.id,\r\n          postId: _id,\r\n          content: inputContent,\r\n          createAt: new Date(),\r\n        };\r\n\r\n        axios.post(baseUrl + \"comments\", newComment).then((res) => {\r\n          // render luon\r\n          newComment = {\r\n            ...newComment,\r\n            name: currentUserInfo.name,\r\n            avatarUrl: currentUserInfo.avatarUrl,\r\n          };\r\n          setListComment([...listComment, newComment]);\r\n          setInputContent(\"\");\r\n          getComments();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  function onDeleteComment(index) {\r\n    let newListComment = [...listComment];\r\n    console.log(newListComment);\r\n\r\n    axios\r\n      .get(baseUrl + `comments/${listComment[index]._id}/delete`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        newListComment.splice(index, 1);\r\n        setListComment(newListComment);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function getComments() {\r\n    axios.get(baseUrl + `comments/${_id}/by-postId`).then((res) => {\r\n      let data = res.data;\r\n      let promises = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n        promises.push(axios.get(baseUrl + `users/${data[i].userId}/info`));\r\n        axios.all(promises).then((resArr) => {\r\n          let arr = resArr.map((item) => {\r\n            return item.data;\r\n          });\r\n          let newListComment = arr.map((item, index) => {\r\n            return {\r\n              ...data[index],\r\n              avatarUrl: item.avatarUrl,\r\n              name: item.name,\r\n            };\r\n          });\r\n          setListComment(newListComment);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"newfeeds-item\">\r\n      <div className=\"newfeeds-item__header\">\r\n        <Link\r\n          to={`/profile/${userId}`}\r\n          className=\"avatar\"\r\n          style={{\r\n            backgroundImage: `url(${postUser.avatarUrl || defaultAvatar})`,\r\n          }}\r\n        ></Link>\r\n        <div className=\"info\">\r\n          <Link to={`/profile/${userId}`} className=\"user-name\">\r\n            {postUser._id === currentUserInfo.id\r\n              ? currentUserInfo.name\r\n              : postUser.name}\r\n          </Link>\r\n          <p className=\"time\">\r\n            {convertTimeAgo(createAt)} • <img src={worldSVG} alt=\"world\" />{\" \"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"newfeeds-item__body\">\r\n        <p className=\"content\">{caption}</p>\r\n        {imageUrl && (\r\n          <div\r\n            className=\"image\"\r\n            style={{ backgroundImage: `url(${imageUrl})` }}\r\n          ></div>\r\n        )}\r\n        {reactContent.length > 0 && (\r\n          <div className=\"react-info\">\r\n            <span>{reactContent[0]}</span> và {reactContent.length - 1} người\r\n            thích • 0 bình luận\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"newfeeds-item__react\">\r\n        <ul className=\"type-react\">\r\n          <li\r\n            onClick={onHandleLikePost}\r\n            className={heartStatus ? \"heart-react--active\" : \"\"}\r\n          >\r\n            <img src={heartStatus ? heartActiveSVG : heartSVG} alt=\"heart\" />\r\n            Thích\r\n          </li>\r\n          <li>\r\n            <img src={commentSVG} alt=\"comment\" />\r\n            Bình luận\r\n          </li>\r\n          <li>\r\n            <img src={saveSVG} alt=\"save\" />\r\n            Lưu\r\n          </li>\r\n        </ul>\r\n        <div className=\"list-comment\">\r\n          {listComment.map((comment, index) => {\r\n            return (\r\n              <div key={index} className=\"item\">\r\n                <Link\r\n                  to={`/profile/${comment.userId}`}\r\n                  className=\"avatar\"\r\n                  style={{ backgroundImage: `url(${comment.avatarUrl})` }}\r\n                ></Link>\r\n                <div className=\"content\">\r\n                  <p>\r\n                    <Link to={`/profile/${comment.userId}`} className=\"name\">\r\n                      {comment.name}\r\n                    </Link>\r\n                    {comment.content}\r\n                  </p>\r\n                  <p>\r\n                    Thích • Trả lời •\r\n                    {comment.userId === currentUserInfo.id && (\r\n                      <span onClick={() => onDeleteComment(index)}>Xóa • </span>\r\n                    )}{\" \"}\r\n                    {convertTimeAgo(comment.createAt)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"comment\">\r\n          <div\r\n            className=\"avatar\"\r\n            style={{\r\n              backgroundImage: `url(${\r\n                currentUserInfo.avatarUrl || defaultAvatar\r\n              })`,\r\n            }}\r\n          ></div>\r\n          <input\r\n            onChange={onHandleChangeInput}\r\n            name=\"inputContent\"\r\n            value={inputContent}\r\n            type=\"text\"\r\n            placeholder=\"Hãy bình luận gì đó . . .\"\r\n            onKeyDown={onKeyDownHandle}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewFeedItem;\r\n","import React from 'react';\r\nimport catSleepPNG from '../../../assets/images/catsleep.png';\r\nimport PropTypes from 'prop-types';\r\n\r\nGuideBox.propTypes = {\r\n    userInfo: PropTypes.object,\r\n};\r\n\r\nfunction renderText(type, name) {\r\n    if (type === 'profile') {\r\n        return (\r\n            <p className=\"guide-box__text\">\r\n                <span>{name}</span> chưa có bài viết nào !<br />\r\n            </p>\r\n        )\r\n    } else {\r\n        return (\r\n            <p className=\"guide-box__text\">\r\n                <span>{name}</span> chưa theo dõi ai.<br /> Hãy theo dõi người khác để thấy những điều thú vị nhé !\r\n            </p>\r\n        )\r\n    }\r\n}\r\n\r\nfunction GuideBox(props) {\r\n    const { userInfo, type } = props;\r\n    return (\r\n        <div className=\"guide-box\">\r\n            <div className=\"guide-box__header\">\r\n                <p>Hướng dẫn</p>\r\n            </div>\r\n            <div className=\"guide-box__main\">\r\n                <div className=\"guide-box__image\">\r\n                    <img src={catSleepPNG} alt=\"cat-sleep\" />\r\n                </div>\r\n                {renderText(type, userInfo.name)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GuideBox;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport NewFeedItem from './NewFeedItem';\r\nimport './style.scss';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport GuideBox from './GuideBox';\r\n\r\nNewFeed.propTypes = {\r\n    userInfo: PropTypes.object,\r\n    followings: PropTypes.array\r\n};\r\n\r\nfunction sortArray(array) {\r\n    array.sort((a, b) => {\r\n        return a.creataAt > b.creataAt ? 1 : -1;\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction NewFeed(props) {\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const { userInfo, followings, type, currentUserInfo } = props;\r\n\r\n    useEffect(() => {\r\n\r\n        // Lay id cua nhung nguoi minh follow cua nhung nguoi minh dang follow\r\n        let postUserIds = [];\r\n        if (followings) {\r\n            postUserIds = [...followings, userInfo.id];\r\n        } else {\r\n            postUserIds = [userInfo.id];\r\n        }\r\n        if (postUserIds) {\r\n            const url = process.env.REACT_APP_API_URL + `posts/by-userId/`;\r\n            let arrayAxios = [];\r\n            for (let i = 0; i < postUserIds.length; i++) {\r\n                arrayAxios.push(axios.get(url + postUserIds[i]));\r\n            }\r\n            axios.all(arrayAxios).then(resArray => {\r\n                let dataArray = resArray.map(item => {\r\n                    return item.data;\r\n                })\r\n                let newPosts = dataArray.reduce((a, b) => {\r\n                    return a.concat(b);\r\n                }, []);\r\n\r\n                sortArray(newPosts);\r\n                setPosts(newPosts);\r\n            });\r\n        }\r\n\r\n    }, [followings, userInfo]);\r\n\r\n    return (\r\n        <div className=\"newfeeds\">\r\n            {posts.length > 0 &&\r\n                posts.map((post, index) => {\r\n                    return (\r\n                        <NewFeedItem key={index} post={post} currentUserInfo={currentUserInfo} userInfo={userInfo} />\r\n                    )\r\n                })\r\n            }\r\n            {posts.length > 0 || <GuideBox type={type} userInfo={userInfo} />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewFeed;","import React from 'react';\r\nimport searchSVG from '../../assets/images/search.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport './style.scss';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction FollowerBox(props) {\r\n\r\n    const { userInfo, listNotFollowing, setListNotFollowing } = props;\r\n\r\n\r\n    function onHandleClick(index) {\r\n        const newFollowing = {\r\n            userId: userInfo.id,\r\n            targetId: listNotFollowing[index]\r\n        }\r\n        const url = process.env.REACT_APP_API_URL + `followings`;\r\n        axios.post(url, newFollowing).then(res => {\r\n\r\n\r\n            const newListNotFollowing = [\r\n                ...listNotFollowing\r\n            ];\r\n            newListNotFollowing.splice(index, 1);\r\n            setListNotFollowing(newListNotFollowing.slice(0, 10));\r\n        })\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"follower-box\">\r\n            <h1 className=\"follower-box__title\">Theo dõi</h1>\r\n            <div className=\"follower-box__search\">\r\n                <input type=\"text\" placeholder=\"Tìm kiếm ai đó . . . \" />\r\n                <button><img src={searchSVG} alt=\"search\" /></button>\r\n            </div>\r\n            <div className=\"follower-box__list\">\r\n                {\r\n                    listNotFollowing.map((item, index) => {\r\n                        return (\r\n                            <div key={index} className=\"follower-box__item\">\r\n                                <Link to={`/profile/${item._id}`} className=\"avatar\" style={{ backgroundImage: `url(${item.avatarUrl})` }}></Link>\r\n                                <Link to={`/profile/${item._id}`} className=\"info\">\r\n                                    <p className=\"user-name\">{item.name}</p>\r\n                                </Link>\r\n                                <button onClick={() => onHandleClick(index)}>Theo dõi</button>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FollowerBox;","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport axios from 'axios';\r\nimport { useEffect } from 'react';\r\nimport Header from '../commons/Header/index';\r\nimport CreatePost from './CreatePost/index';\r\nimport NewFeed from '../commons/Newfeed/index';\r\nimport FollowerBox from '../FollowerBox/index'\r\n\r\n\r\n\r\n\r\n\r\nfunction Home(props) {\r\n\r\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n    const [followings, setFollowings] = useState([]);\r\n    const [listNotFollowing, setListNotFollowing] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const url_1 = process.env.REACT_APP_API_URL + `followings/by-userId/${userInfo.id}`;\r\n        const url_2 = process.env.REACT_APP_API_URL + `users/get-info`;\r\n\r\n        axios.get(url_1).then(res => {\r\n            const data = res.data;\r\n            const targetIds = data.map((item) => {\r\n                return item.targetId;\r\n            });\r\n\r\n            axios.get(url_2).then(res => {\r\n                const users = res.data;\r\n                let newNotFollowingList = [];\r\n                users.forEach(user => {\r\n                    if (targetIds.indexOf(user._id) === -1 && user._id !== userInfo.id) newNotFollowingList.push(user);\r\n                });\r\n                setListNotFollowing(newNotFollowingList);\r\n                setFollowings(targetIds);\r\n            });\r\n        })\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"home-wrap\">\r\n            <Header userLogined={userInfo} />\r\n            <div className=\"main\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"main__content\">\r\n                        <CreatePost userInfo={userInfo} />\r\n                        <NewFeed type=\"home\" followings={followings} userInfo={userInfo} currentUserInfo={userInfo} />\r\n                    </div>\r\n                    <div className=\"main__follower\">\r\n                        <FollowerBox userInfo={userInfo} listNotFollowing={listNotFollowing} setListNotFollowing={setListNotFollowing} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cameraSVG from '../../../assets/images/camera.svg';\r\nimport editSVG from '../../../assets/images/edit.svg';\r\nimport { openUploadWidget } from '../../../utils/CloudinaryService';\r\nimport axios from 'axios';\r\n\r\nBoxInfo.propTypes = {\r\n    onUploadImage: PropTypes.func,\r\n    userInfo: PropTypes.object\r\n};\r\n\r\n\r\n\r\nfunction BoxInfo(props) {\r\n\r\n    const { userInfo, onUploadImage, isMe } = props;\r\n\r\n    // upload image\r\n    function beginUpload(type) {\r\n        const uploadOptions = {\r\n            cloudName: process.env.REACT_APP_CLOUD_NAME,\r\n            uploadPreset: 'pnto4uty'\r\n        };\r\n\r\n        openUploadWidget(uploadOptions, (error, photos) => {\r\n            if (!error) {\r\n                if (photos.event === 'success') {\r\n                    const imageUrl = photos.info.url;\r\n                    const url = process.env.REACT_APP_API_URL + `users/${userInfo.id}/update`;\r\n                    // gui du lieu len server\r\n                    axios.post(url, { [type]: imageUrl }).then(res => {\r\n                        console.log(res, 'oke');\r\n                        const newUserInfo = {\r\n                            ...userInfo,\r\n                            [type]: imageUrl\r\n                        }\r\n                        // chuyen userinfo cho component cha quan ly\r\n                        onUploadImage(newUserInfo);\r\n                    });\r\n                }\r\n            } else {\r\n                console.log(error);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"box-info\" style={{ backgroundImage: `url(${userInfo.backgroundUrl})` }}>\r\n            {isMe && <div className=\"upload\" onClick={() => beginUpload('backgroundUrl')}>\r\n                <img src={cameraSVG} alt=\"camera\" />\r\n                <p>Cập nhật ảnh bìa</p>\r\n            </div>}\r\n            <div className=\"box-info__content\">\r\n                {isMe && <div onClick={() => beginUpload('avatarUrl')} className=\"avatar\" style={{ backgroundImage: `url(${userInfo.avatarUrl})` }}></div>}\r\n                {isMe || <div className=\"avatar\" style={{ backgroundImage: `url(${userInfo.avatarUrl})` }}></div>}\r\n                <p className=\"name\">{userInfo.name}</p>\r\n            </div>\r\n            {isMe && <div className=\"box-info__edit\">\r\n                <img src={editSVG} alt=\"edit\" />\r\n                <p>Cập nhật thông tin</p>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BoxInfo;","import React from 'react';\r\nimport gallerySVG from '../../../assets/images/gallery.svg';\r\n\r\n\r\nconst imageUrls = [\r\n    { id: 1, url: 'https://www.abc.net.au/cm/rimage/11095486-4x3-large.jpg?v=2' },\r\n    { id: 2, url: 'https://ontariospca.ca/wp-content/uploads/2018/04/Cat-outside-small-600x399.png' },\r\n    { id: 3, url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSYtUSHp29-aNsWwT6khxYETjgiZIoAvP-jgw&usqp=CAU' },\r\n    { id: 4, url: 'https://2rdnmg1qbg403gumla1v9i2h-wpengine.netdna-ssl.com/wp-content/uploads/sites/3/2020/04/petCoronovirus-DG-042320-770x553-1-650x428.jpg' },\r\n    { id: 5, url: 'https://cdn.shopify.com/s/files/1/2194/6011/files/adorable-animal-cat-747795_grande.jpg?v=1545527845' },\r\n    { id: 6, url: 'https://cdn.mos.cms.futurecdn.net/VSy6kJDNq2pSXsCzb6cvYF.jpg' },\r\n    { id: 7, url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQelyAZ7JOm6z2bgBkEO-k3BEOF7DOn2TytjA&usqp=CAU' },\r\n    { id: 8, url: 'https://cdn.pixabay.com/photo/2018/05/13/21/24/cat-3398010_960_720.jpg' }\r\n]\r\n\r\nfunction renderImages(list) {\r\n    return list.map((item, index) => {\r\n        return (\r\n            <div key={index} className=\"item\"><img src={item.url} alt=\"pet\" className=\"image\" /></div>\r\n        );\r\n    });\r\n}\r\n\r\nGallery.propTypes = {\r\n\r\n};\r\n\r\nfunction Gallery(props) {\r\n    return (\r\n        <div className=\"gallery\">\r\n            <div className=\"gallery__header\">\r\n                <div className=\"icon-wrap\">\r\n                    <img src={gallerySVG} alt=\"gallery\" />\r\n                </div>\r\n                <p>Hình ảnh</p>\r\n            </div>\r\n            <div className=\"gallery__content\">\r\n                {renderImages(imageUrls)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Gallery;","import React from 'react';\r\nimport './style.scss';\r\nimport Header from '../commons/Header/index';\r\nimport NewFeed from '../commons/Newfeed/index';\r\nimport BoxInfo from './BoxInfo/index';\r\nimport Gallery from './Gallery/index';\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nfunction Profile(props) {\r\n\r\n    // default khi user chua co avartar hay backgroud image\r\n    const defaultBackgroundUrl = 'https://img2.pngio.com/default-png-5-png-image-default-png-1200_800.png';\r\n    const defaultAvatarUrl = 'https://img2.pngio.com/index-of-wp-content-themes-fgm21-child-assets-images-default-png-495_495.png';\r\n\r\n    const [userInfo, setUserInfo] = useState({});\r\n    const { userId } = useParams();\r\n    let getUserInfo = {}; // info cua nick dang dang nhap\r\n    if (localStorage.getItem('userInfo')) {\r\n        getUserInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n    }\r\n    // setstorage\r\n\r\n    useEffect(() => {\r\n        const url = process.env.REACT_APP_API_URL + `users/${userId}/info`;\r\n        axios.get(url).then(res => {\r\n            let newUserInfo = {\r\n                ...res.data\r\n            };\r\n            delete newUserInfo._id;\r\n            newUserInfo = {\r\n                ...newUserInfo,\r\n                id: userId\r\n            };\r\n            // lay anh default neu chua co anh\r\n            if (!newUserInfo.backgroundUrl) {\r\n                newUserInfo = {\r\n                    ...newUserInfo,\r\n                    backgroundUrl: defaultBackgroundUrl,\r\n                };\r\n            }\r\n            if (!newUserInfo.avatarUrl) {\r\n                newUserInfo = {\r\n                    ...newUserInfo,\r\n                    avatarUrl: defaultAvatarUrl,\r\n                };\r\n            }\r\n            setUserInfo(newUserInfo);\r\n        })\r\n    }, [userId]);\r\n\r\n    function onUploadImage(newUserInfo) {\r\n        localStorage.setItem('userInfo', JSON.stringify(newUserInfo));\r\n        setUserInfo(newUserInfo);\r\n    }\r\n\r\n    return (\r\n        <div className=\"profile-wrap\">\r\n            <Header userLogined={getUserInfo} />\r\n            <div className=\"profile__main\">\r\n                <div className=\"container\">\r\n                    <BoxInfo userInfo={userInfo} onUploadImage={onUploadImage} isMe={getUserInfo.id === userId ? true : false} />\r\n                    <div className=\"content\">\r\n                        <div className=\"newfeed-wrap\">\r\n                            <NewFeed userInfo={userInfo} type=\"profile\" currentUserInfo={getUserInfo} />\r\n                        </div>\r\n                        <div className=\"gallery-wrap\">\r\n                            <Gallery />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport './App.scss';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport PrivateRoute from './PrivateRoute';\r\nimport { AuthContext } from './context/authContext';\r\nimport NotFound from './components/commons/NotFound/index';\r\nimport Login from './components/Login/index';\r\nimport Signup from './components/Signup/index';\r\nimport Home from './components/Home/index';\r\nimport Profile from './components/Profile/index.jsx';\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\n\r\nfunction App() {\r\n\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const [authToken, setAuthToken] = useState(accessToken);\r\n  axios.defaults.headers.common['x-access-token'] = accessToken;\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ authToken: authToken, setAuthToken: setAuthToken }}>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/signup\" component={Signup} />\r\n            <PrivateRoute path=\"/\" exact={true} component={Home} />\r\n            <PrivateRoute path=\"/profile/:userId\" component={Profile} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </AuthContext.Provider >\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  <App />,\r\n  // </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/camera.a5377696.svg\";","module.exports = __webpack_public_path__ + \"static/media/open-menu.12327444.svg\";","module.exports = __webpack_public_path__ + \"static/media/home.6606c14d.svg\";"],"sourceRoot":""}